<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Vibrant.js example</title>
<script src="libraries/vibrant.js"></script>
<style>
/* Style for the swatches & image */
  .swatch {
    display:inline-block;
    border: 5px solid  white;
    height:200px;
    width:200px;
    /*float:left;*/
    box-sizing:border-box;
  }
  img{
    width:600px;
  }

</style>
</head>
<body>
  <h1>Water elements</h1>
<div id="palette_container"></div>
  <h1>Structure elements</h1>

<div id="palette_containerb"></div>
  <h1>Earth elements</h1>


</body>
</html>

<script type="text/javascript">

console.log('file running');
  // Use `Vibrant` in script
  // Vibrant is exported to global. window.Vibrant === Vibrant


let images = ['assets/DP801232.jpg', 'assets/DP801255.jpg'];
var container = document.getElementById("palette_container");

const init = async () => {
  for (let i=0; i<images.length; i++){
    let url = images[i];
    
    await Vibrant.from(url).getPalette(function(err, palette) {
      for (var swatch in palette){
        console.log(swatch, palette[swatch].getHex());
  
        const div = document.createElement("div");
        div.classList.add('swatch');
        console.log( palette[swatch].getHex() );
        div.style.backgroundColor = palette[swatch].getHex();
        container.appendChild(div);
      }
    });
    
    let linebreak = document.createElement('div');
    container.appendChild(linebreak);
    
  }  
}

init();
  
  
  
  let mages = ['assets/VanGogh-OliveTrees.jpg', 'assets/DP801255.jpg'];
var containerb = document.getElementById("palette_containerb");

const nit = async () => {
  for (let i=0; i<mages.length; i++){
    let url = mages[i];
    
    await Vibrant.from(url).getPalette(function(err, palette) {
      for (var swatch in palette){
        console.log(swatch, palette[swatch].getHex());
  
        const div = document.createElement("div");
        div.classList.add('swatch');
        console.log( palette[swatch].getHex() );
        div.style.backgroundColor = palette[swatch].getHex();
        containerb.appendChild(div);
      }
    });
    
    let linebreak = document.createElement('div');
    containerb.appendChild(linebreak);
    
  }  
}

nit();
</script>
